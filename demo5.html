<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta name="format-detection" content="email=no,telephone=no,address=no">
<title>=^.^=</title>
<style>
body {
	font-family: sans-serif;
	background: url( "./img/bg_001.svg" );
}

.myModal {
	box-sizing: border-box;
	width: calc( 100vw - 32px );
	max-width: 640px;
	padding: 16px;
	border: 8px solid #1cb5e0;
	border-radius: 16px;
}

.myModal::backdrop {
	opacity: 0.8;
	background: linear-gradient( #1cb5e0, #000046 );
}
</style>
</head>
<body>

<dialog class="myModal" id="my-modal-0">
	<p>簡易モーダル</p>
	<button type="button" onclick="document.querySelector( '#my-modal-0' ).close();">
		閉じる
	</button>
</dialog>

<button type="button" onclick="document.querySelector( '#my-modal-0' ).showModal();">
	開く
</button>

<script>
document.querySelectorAll( 'dialog' ).forEach( ( $modal ) => {

	$modal.addEventListener( 'click', onDialogClick );

} );

function onDialogClick( event ) {

	const $modal = event.target;
  const elRect = $modal.getBoundingClientRect();
  const isInDialog =
    elRect.top <= event.clientY && event.clientY <= elRect.bottom &&
    elRect.left <= event.clientX && event.clientX <= elRect.right;

  // もし、内側をクリックしていたら、なにもしない
  if ( isInDialog ) return;
  // それ以外（外側をクリック）なら閉じる
  $modal.close();

}
</script>

</body>
</html>
